/*!
 * Start Bootstrap - SB Admin 2 v4.1.1 (https://startbootstrap.com/themes/sb-admin-2)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

!(function (s) {
    "use strict";
    document.querySelector("#sidebarToggle, #sidebarToggleTop")?.addEventListener("click", function (e) {
        document.body.classList.toggle("sidebar-toggled");
        const sidebar = document.querySelector(".sidebar");
        sidebar?.classList.toggle("toggled");
        if (sidebar?.classList.contains("toggled")) {
            const collapses = sidebar.querySelectorAll(".collapse");
            collapses.forEach(collapse => {
                new bootstrap.Collapse(collapse, {
                    toggle: false
                }).hide();
            });
        }
    });
    window.addEventListener("resize", function () {
        if (window.innerWidth < 768) {
            const collapses = document.querySelectorAll(".sidebar .collapse");
            collapses.forEach(collapse => {
                new bootstrap.Collapse(collapse, {
                    toggle: false
                }).hide();
            });
        }
        if (window.innerWidth < 480 && !document.querySelector(".sidebar")?.classList.contains("toggled")) {
            document.body.classList.add("sidebar-toggled");
            const sidebar = document.querySelector(".sidebar");
            sidebar?.classList.add("toggled");
            const collapses = sidebar.querySelectorAll(".collapse");
            collapses.forEach(collapse => {
                new bootstrap.Collapse(collapse, {
                    toggle: false
                }).hide();
            });
        }
    });
    document.querySelector("body.fixed-nav .sidebar")?.addEventListener("mousewheel DOMMouseScroll wheel", function (e) {
        if (window.innerWidth > 768) {
            const o = e.wheelDelta || -e.detail;
            this.scrollTop += 30 * (o < 0 ? 1 : -1);
            e.preventDefault();
        }
    });
    document.addEventListener("scroll", function () {
        if (document.documentElement.scrollTop > 100) {
            document.querySelector(".scroll-to-top")?.classList.add("show");
        } else {
            document.querySelector(".scroll-to-top")?.classList.remove("show");
        }
    });
    document.querySelector("a.scroll-to-top")?.addEventListener("click", function (e) {
        const o = this;
        document.querySelector("html, body").scroll({
            top: document.querySelector(o.getAttribute("href")).offsetTop,
            behavior: "smooth"
        });
        e.preventDefault();
    });
})(document);
